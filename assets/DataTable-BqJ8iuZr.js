import{j as e}from"./index-Cd8XIyZm.js";import{b as a}from"./vendor-DEA9Ikep.js";function D({columns:d,data:m=[],onRowClick:b,searchable:y=!0,pageSize:i=15}){const[u,k]=a.useState(""),[l,N]=a.useState(null),[c,j]=a.useState("asc"),[w,p]=a.useState(0),f=a.useMemo(()=>{if(!u.trim())return m;const t=u.toLowerCase();return m.filter(r=>d.some(s=>{const n=r[s.key];return n==null?!1:String(n).toLowerCase().includes(t)}))},[m,u,d]),x=a.useMemo(()=>l?[...f].sort((t,r)=>{const s=t[l],n=r[l];if(s==null&&n==null)return 0;if(s==null)return 1;if(n==null)return-1;if(typeof s=="number"&&typeof n=="number")return c==="asc"?s-n:n-s;const v=String(s).localeCompare(String(n),"es",{sensitivity:"base"});return c==="asc"?v:-v}):f,[f,l,c]),h=Math.max(1,Math.ceil(x.length/i)),o=Math.min(w,h-1),g=x.slice(o*i,(o+1)*i),L=t=>{k(t),p(0)},C=t=>{l===t?j(r=>r==="asc"?"desc":"asc"):(N(t),j("asc"))},S=({columnKey:t})=>{const r=l===t;return e.jsxs("span",{className:"inline-flex flex-col ml-1.5 -space-y-1",children:[e.jsx("svg",{className:`w-3 h-3 ${r&&c==="asc"?"text-guinda":"text-text-muted/40"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})}),e.jsx("svg",{className:`w-3 h-3 ${r&&c==="desc"?"text-guinda":"text-text-muted/40"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})};return e.jsxs("div",{className:"w-full",children:[y&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none text-text-muted",children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),e.jsx("input",{type:"text",placeholder:"Buscar...",value:u,onChange:t=>L(t.target.value),className:"w-full h-[40px] pl-10 pr-3.5 py-2.5 bg-white border border-border rounded-md text-[0.9375rem] text-text-heading placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-guinda/25 focus:border-guinda transition-all duration-150"})]})}),e.jsx("div",{className:"bg-white rounded-lg border-0 overflow-hidden",style:{boxShadow:"0 2px 6px 0 rgba(67,89,113,0.12)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-[#f9fafb]",children:d.map(t=>e.jsx("th",{className:["text-left text-xs font-semibold text-text-secondary uppercase tracking-wider px-5 py-3.5",t.sortable!==!1?"cursor-pointer select-none hover:text-text-heading":""].join(" "),style:t.width?{width:t.width}:void 0,onClick:()=>t.sortable!==!1&&C(t.key),children:e.jsxs("span",{className:"inline-flex items-center",children:[t.label,t.sortable!==!1&&e.jsx(S,{columnKey:t.key})]})},t.key))})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:d.length,className:"text-center py-16 text-text-muted",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("svg",{className:"w-10 h-10 text-text-muted/50",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z"}),e.jsx("polyline",{points:"13 2 13 9 20 9"})]}),e.jsx("p",{className:"text-[0.9375rem]",children:"Sin resultados"})]})})}):g.map((t,r)=>e.jsx("tr",{onClick:()=>b?.(t),className:["border-b border-[#f0f0f0] last:border-0 transition-colors",b?"cursor-pointer hover:bg-[#f9fafb]":"hover:bg-[#f9fafb]"].join(" "),children:d.map(s=>e.jsx("td",{className:"px-5 py-3.5 text-[0.9375rem] text-text-primary",children:s.render?s.render(t[s.key],t):t[s.key]??"—"},s.key))},t.id??r))})]})})}),x.length>i&&e.jsxs("div",{className:"flex items-center justify-between mt-4 px-1",children:[e.jsxs("span",{className:"text-[0.8125rem] text-text-muted",children:[o*i+1,"–",Math.min((o+1)*i,x.length)," de"," ",x.length]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>p(t=>Math.max(0,t-1)),disabled:o===0,className:"inline-flex items-center h-[38px] px-3.5 rounded-md border border-border text-[0.8125rem] font-medium text-text-secondary hover:bg-bg-hover hover:text-text-heading disabled:opacity-40 disabled:cursor-not-allowed transition-colors cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Anterior"]}),e.jsxs("span",{className:"px-2 py-1 text-[0.8125rem] text-text-muted font-medium",children:[o+1," / ",h]}),e.jsxs("button",{onClick:()=>p(t=>Math.min(h-1,t+1)),disabled:o>=h-1,className:"inline-flex items-center h-[38px] px-3.5 rounded-md border border-border text-[0.8125rem] font-medium text-text-secondary hover:bg-bg-hover hover:text-text-heading disabled:opacity-40 disabled:cursor-not-allowed transition-colors cursor-pointer",children:["Siguiente",e.jsx("svg",{className:"w-4 h-4 ml-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]})]})}export{D};
