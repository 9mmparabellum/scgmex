import{u as ue,j as t}from"./index-KskWbqO9.js";import{b as j}from"./vendor-DEA9Ikep.js";import{useList as me}from"./useCrud-C19KmPO4.js";import{u as ge,a as be,b as fe,c as pe}from"./useReportes-CwlzbVvi.js";import{B as K}from"./Button-DGu3eAys.js";import{S as oe}from"./Select-k3R1vLiz.js";import{B as Ee}from"./Badge-B4UqNpVe.js";import{e as he}from"./exportHelpers-CvXmrB4L.js";import{E as xe,a as ye}from"./export-t5FFX7R_.js";import"./supabase-DANKYb0E.js";const b=o=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(o||0),ce=(o,a)=>a?(o/a*100).toFixed(2):"0.00",g=(o,a)=>o.reduce((s,i)=>s+(Number(i[a])||0),0),ae=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function C(o,a){const s=o?.numero||o?.mes||12,i=a?.anio||a?.year||new Date().getFullYear();return`DEL 1 DE ENERO AL ${o?.nombre||(ae[s-1]?`${s} DE ${ae[s-1].toUpperCase()}`:"31 DE DICIEMBRE")} DE ${i}`}function O(o,a){return(o||[]).filter(s=>a.includes(s.tipo_cuenta))}function B(o,a){return(o||[]).filter(s=>s.codigo&&s.codigo.startsWith(a))}function k(o,a,s="saldo_final"){return o.map(i=>{const l=a?.[i.id]||{};return{codigo:i.codigo,nombre:i.nombre,nivel:i.nivel||1,saldo_inicial:Number(l.saldo_inicial)||0,debe:Number(l.total_debe)||Number(l.debe)||0,haber:Number(l.total_haber)||Number(l.haber)||0,saldo_final:Number(l.saldo_final)||0,monto:Number(l[s])||Number(l.saldo_final)||0}})}function M(o){const a={};for(const s of o||[])a[s.cuenta_id]=s;return a}const Q={EA:{key:"EA",nombre:"Estado de Actividades",categoria:"contable",orden:1},ESF:{key:"ESF",nombre:"Estado de Situacion Financiera",categoria:"contable",orden:2},EVHP:{key:"EVHP",nombre:"Estado de Variacion en la Hacienda Publica",categoria:"contable",orden:3},ECSF:{key:"ECSF",nombre:"Estado de Cambios en la Situacion Financiera",categoria:"contable",orden:4},EFE:{key:"EFE",nombre:"Estado de Flujos de Efectivo",categoria:"contable",orden:5},EAA:{key:"EAA",nombre:"Estado Analitico del Activo",categoria:"contable",orden:6},NOTAS:{key:"NOTAS",nombre:"Notas a los Estados Financieros",categoria:"contable",orden:7},EAI:{key:"EAI",nombre:"Estado Analitico de Ingresos",categoria:"presupuestal",orden:8},EAEPE_CA:{key:"EAEPE_CA",nombre:"EAEPE - Clasificacion Administrativa",categoria:"presupuestal",orden:9},EAEPE_CE:{key:"EAEPE_CE",nombre:"EAEPE - Clasificacion Economica",categoria:"presupuestal",orden:10},EAEPE_COG:{key:"EAEPE_COG",nombre:"EAEPE - Clasificacion por Objeto del Gasto",categoria:"presupuestal",orden:11},EAEPE_CF:{key:"EAEPE_CF",nombre:"EAEPE - Clasificacion Funcional",categoria:"presupuestal",orden:12},END:{key:"END",nombre:"Endeudamiento Neto",categoria:"presupuestal",orden:13},ID:{key:"ID",nombre:"Intereses de la Deuda",categoria:"presupuestal",orden:14},FF:{key:"FF",nombre:"Flujo de Fondos",categoria:"presupuestal",orden:15},GCP:{key:"GCP",nombre:"Gasto por Categoria Programatica",categoria:"programatico",orden:16},PPI:{key:"PPI",nombre:"Programas y Proyectos de Inversion",categoria:"programatico",orden:17},IR:{key:"IR",nombre:"Indicadores de Resultados (PbR)",categoria:"programatico",orden:18},IPF:{key:"IPF",nombre:"Indicadores de Postura Fiscal",categoria:"programatico",orden:19}},te=Object.keys(Q),Ne=["EA","ESF","EVHP","ECSF","EFE","EAA","NOTAS","EAI","EAEPE_CA","EAEPE_CE","EAEPE_COG","EAEPE_CF","END","ID","FF","GCP","PPI"],ve=["EA","ESF","EVHP","EAA","NOTAS","EAI","EAEPE_COG","END","ID","GCP"];function Ae(o){switch(o.toLowerCase()){case"federal":return te;case"estatal":return Ne;case"municipal":return ve;default:return te}}function Ce(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=k(O(c,["ingresos"]),n),d=k(O(c,["gastos"]),n),r=g(e,"saldo_final"),f=g(d,"saldo_final"),m=r-f;return{key:"EA",titulo:"Estado de Actividades",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_final",label:"Monto ($)",align:"right",format:b}],secciones:[{titulo:"I. INGRESOS Y OTROS BENEFICIOS",filas:e,subtotal:r},{titulo:"II. GASTOS Y OTRAS PERDIDAS",filas:d,subtotal:f}],totales:{label:"III. RESULTADO DEL EJERCICIO (AHORRO / DESAHORRO)",valor:m},notas:m>=0?"El ente publico presenta ahorro en el ejercicio.":"El ente publico presenta desahorro en el ejercicio."}}function Ie(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=k(O(c,["activo"]),n),d=k(O(c,["pasivo"]),n),r=k(O(c,["hacienda","hacienda_publica"]),n),f=g(e,"saldo_final"),m=g(d,"saldo_final"),p=g(r,"saldo_final"),h=Math.abs(f-(m+p))<.01;return{key:"ESF",titulo:"Estado de Situacion Financiera",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_final",label:"Importe ($)",align:"right",format:b}],secciones:[{titulo:"I. ACTIVO",filas:e,subtotal:f},{titulo:"II. PASIVO",filas:d,subtotal:m},{titulo:"III. HACIENDA PUBLICA",filas:r,subtotal:p}],totales:{label:"TOTAL PASIVO + HACIENDA PUBLICA",valor:m+p},notas:h?"La ecuacion contable cuadra correctamente: Activo = Pasivo + Hacienda.":`Diferencia detectada: Activo (${b(f)}) != Pasivo + Hacienda (${b(m+p)}).`,metadata:{totalActivo:f,totalPasivo:m,totalHacienda:p,cuadra:h}}}function Se(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=O(c,["hacienda","hacienda_publica"]),d=k(B(e,"3.1"),n),r=k(B(e,"3.2"),n),f=k(B(e,"3.3"),n),m=g(d,"saldo_final"),p=g(r,"saldo_final"),h=g(f,"saldo_final");return{key:"EVHP",titulo:"Estado de Variacion en la Hacienda Publica",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_final",label:"Importe ($)",align:"right",format:b}],secciones:[{titulo:"I. HACIENDA PUBLICA CONTRIBUIDA",filas:d,subtotal:m},{titulo:"II. HACIENDA PUBLICA GENERADA",filas:r,subtotal:p},{titulo:"III. EXCESO O INSUFICIENCIA EN LA ACTUALIZACION DE LA HACIENDA PUBLICA",filas:f,subtotal:h}],totales:{label:"TOTAL HACIENDA PUBLICA",valor:m+p+h}}}function ke(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=k(O(c,["activo"]),n),d=k(O(c,["pasivo"]),n);k(O(c,["hacienda","hacienda_publica"]),n);const r=e.filter(h=>h.saldo_final-h.saldo_inicial!==0).map(h=>({...h,variacion:h.saldo_final-h.saldo_inicial})),f=d.filter(h=>h.saldo_final-h.saldo_inicial!==0).map(h=>({...h,variacion:h.saldo_final-h.saldo_inicial})),m=g(r,"variacion"),p=g(f,"variacion");return{key:"ECSF",titulo:"Estado de Cambios en la Situacion Financiera",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_inicial",label:"Saldo Inicio ($)",align:"right",format:b},{key:"saldo_final",label:"Saldo Final ($)",align:"right",format:b},{key:"variacion",label:"Variacion ($)",align:"right",format:b}],secciones:[{titulo:"I. ORIGEN DE RECURSOS - OPERATIVOS",filas:r,subtotal:m},{titulo:"II. ORIGEN DE RECURSOS - NO OPERATIVOS",filas:f,subtotal:p}],totales:{label:"VARIACION NETA EN LA SITUACION FINANCIERA",valor:m+p}}}function je(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=k(B(c,"1.1.1"),n),d=k(O(c,["ingresos","gastos"]),n),r=g(d.filter(p=>p.codigo?.startsWith("4")),"saldo_final")-g(d.filter(p=>p.codigo?.startsWith("5")),"saldo_final"),f=g(e,"saldo_inicial"),m=g(e,"saldo_final");return{key:"EFE",titulo:"Estado de Flujos de Efectivo",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_final",label:"Importe ($)",align:"right",format:b}],secciones:[{titulo:"I. FLUJOS DE EFECTIVO POR ACTIVIDADES DE OPERACION",filas:d.filter(p=>p.codigo?.startsWith("4")||p.codigo?.startsWith("5")),subtotal:r},{titulo:"II. EFECTIVO Y EQUIVALENTES",filas:e,subtotal:m}],totales:{label:"INCREMENTO / DISMINUCION NETA EN EFECTIVO",valor:m-f},metadata:{efectivoInicial:f,efectivoFinal:m,flujoOperativo:r}}}function Pe(o,a,s,i){const{saldos:l=[],cuentas:c=[]}=o,n=M(l),e=O(c,["activo"]),d=k(e,n);return{key:"EAA",titulo:"Estado Analitico del Activo",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Codigo",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"saldo_inicial",label:"Saldo Inicial ($)",align:"right",format:b},{key:"debe",label:"Cargos ($)",align:"right",format:b},{key:"haber",label:"Abonos ($)",align:"right",format:b},{key:"saldo_final",label:"Saldo Final ($)",align:"right",format:b}],secciones:[{titulo:"ACTIVO",filas:d,subtotal:null}],totales:{label:"TOTALES",valores:{saldo_inicial:g(d,"saldo_inicial"),debe:g(d,"debe"),haber:g(d,"haber"),saldo_final:g(d,"saldo_final")}}}}function _e(o,a,s,i){return{key:"NOTAS",titulo:"Notas a los Estados Financieros",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"seccion",label:"Seccion",align:"left"},{key:"descripcion",label:"Descripcion",align:"left"}],secciones:[{titulo:"NOTAS DE DESGLOSE",filas:[{seccion:"a)",descripcion:"Notas al Estado de Situacion Financiera"},{seccion:"b)",descripcion:"Notas al Estado de Actividades"},{seccion:"c)",descripcion:"Notas al Estado de Variacion en la Hacienda Publica"},{seccion:"d)",descripcion:"Notas al Estado de Flujos de Efectivo"}],subtotal:null},{titulo:"NOTAS DE MEMORIA (CUENTAS DE ORDEN)",filas:[{seccion:"e)",descripcion:"Cuentas de orden contables y presupuestales"}],subtotal:null},{titulo:"NOTAS DE GESTION ADMINISTRATIVA",filas:[{seccion:"f)",descripcion:"Introduccion, descripcion de actividades y organizacion del ente"},{seccion:"g)",descripcion:"Bases de preparacion de los estados financieros"},{seccion:"h)",descripcion:"Politicas de contabilidad significativas"},{seccion:"i)",descripcion:"Posicion en moneda extranjera y proteccion por riesgo cambiario"},{seccion:"j)",descripcion:"Reporte de la recaudacion"},{seccion:"k)",descripcion:"Informacion sobre la deuda y el reporte analitico de la deuda"},{seccion:"l)",descripcion:"Calificaciones otorgadas"},{seccion:"m)",descripcion:"Proceso de mejora"},{seccion:"n)",descripcion:"Informacion por segmentos"}],subtotal:null}],totales:null,notas:"Las notas a los estados financieros son parte integral de los mismos y proporcionan informacion adicional sobre las cifras presentadas."}}function Oe(o,a,s,i){const{presupuesto:l=[]}=o,n=l.filter(e=>e.tipo==="ingreso"||e.clasificacion==="ingreso").map(e=>({codigo:e.codigo||e.clave||"",nombre:e.nombre||e.concepto||"",estimado:Number(e.estimado)||0,ampliacion:Number(e.ampliacion)||0,reduccion:Number(e.reduccion)||0,modificado:(Number(e.estimado)||0)+(Number(e.ampliacion)||0)-(Number(e.reduccion)||0),recaudado:Number(e.recaudado)||Number(e.devengado)||0,diferencia:(Number(e.estimado)||0)+(Number(e.ampliacion)||0)-(Number(e.reduccion)||0)-(Number(e.recaudado)||Number(e.devengado)||0)}));return{key:"EAI",titulo:"Estado Analitico de Ingresos",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Rubro",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"estimado",label:"Estimado ($)",align:"right",format:b},{key:"ampliacion",label:"Ampliacion ($)",align:"right",format:b},{key:"reduccion",label:"Reduccion ($)",align:"right",format:b},{key:"modificado",label:"Modificado ($)",align:"right",format:b},{key:"recaudado",label:"Recaudado ($)",align:"right",format:b},{key:"diferencia",label:"Diferencia ($)",align:"right",format:b}],secciones:[{titulo:"INGRESOS",filas:n,subtotal:null}],totales:{label:"TOTAL",valores:{estimado:g(n,"estimado"),ampliacion:g(n,"ampliacion"),reduccion:g(n,"reduccion"),modificado:g(n,"modificado"),recaudado:g(n,"recaudado"),diferencia:g(n,"diferencia")}}}}function W(o,a,s,i,l,c){const{presupuesto:n=[]}=o,d=n.filter(r=>r.tipo==="egreso"||r.clasificacion_tipo===a||r.tipo===a).map(r=>({codigo:r.codigo||r.clave||"",nombre:r.nombre||r.concepto||"",aprobado:Number(r.aprobado)||Number(r.estimado)||0,pef:Number(r.pef)||0,modificado:Number(r.modificado)||Number(r.aprobado||r.estimado||0)+Number(r.ampliacion||0)-Number(r.reduccion||0),devengado:Number(r.devengado)||0,pagado:Number(r.pagado)||0,subejercicio:(Number(r.modificado)||Number(r.aprobado||r.estimado||0))-(Number(r.pagado)||0)}));return{key:`EAEPE_${a.toUpperCase()}`,titulo:s,subtitulo:C(l,c),orientacion:"landscape",columnas:[{key:"codigo",label:"Clave",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"aprobado",label:"Aprobado ($)",align:"right",format:b},{key:"pef",label:"PEF ($)",align:"right",format:b},{key:"modificado",label:"Modificado ($)",align:"right",format:b},{key:"devengado",label:"Devengado ($)",align:"right",format:b},{key:"pagado",label:"Pagado ($)",align:"right",format:b},{key:"subejercicio",label:"Subejercicio ($)",align:"right",format:b}],secciones:[{titulo:"EGRESOS",filas:d,subtotal:null}],totales:{label:"TOTAL",valores:{aprobado:g(d,"aprobado"),pef:g(d,"pef"),modificado:g(d,"modificado"),devengado:g(d,"devengado"),pagado:g(d,"pagado"),subejercicio:g(d,"subejercicio")}}}}function Fe(o,a,s,i){return W(o,"CA","Estado Analitico del Ejercicio del Presupuesto de Egresos - Clasificacion Administrativa",a,s,i)}function Re(o,a,s,i){return W(o,"CE","Estado Analitico del Ejercicio del Presupuesto de Egresos - Clasificacion Economica",a,s,i)}function we(o,a,s,i){return W(o,"COG","Estado Analitico del Ejercicio del Presupuesto de Egresos - Clasificacion por Objeto del Gasto",a,s,i)}function Te(o,a,s,i){return W(o,"CF","Estado Analitico del Ejercicio del Presupuesto de Egresos - Clasificacion Funcional",a,s,i)}function De(o,a,s,i){const{presupuesto:l=[]}=o,n=l.filter(e=>e.tipo==="deuda"||e.clasificacion==="deuda").map(e=>({codigo:e.codigo||e.clave||"",nombre:e.nombre||e.concepto||"",moneda_nacional:Number(e.moneda_nacional)||Number(e.monto)||0,moneda_extranjera:Number(e.moneda_extranjera)||0,total:(Number(e.moneda_nacional)||Number(e.monto)||0)+(Number(e.moneda_extranjera)||0)}));return{key:"END",titulo:"Endeudamiento Neto",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Identificador",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"moneda_nacional",label:"Moneda Nacional ($)",align:"right",format:b},{key:"moneda_extranjera",label:"Moneda Extranjera ($)",align:"right",format:b},{key:"total",label:"Total ($)",align:"right",format:b}],secciones:[{titulo:"ENDEUDAMIENTO NETO",filas:n,subtotal:g(n,"total")}],totales:{label:"ENDEUDAMIENTO NETO TOTAL",valor:g(n,"total")}}}function $e(o,a,s,i){const{presupuesto:l=[]}=o,n=l.filter(e=>e.tipo==="interes"||e.clasificacion==="interes_deuda").map(e=>({codigo:e.codigo||e.clave||"",nombre:e.nombre||e.concepto||"",pagado:Number(e.pagado)||Number(e.monto)||0,devengado:Number(e.devengado)||0}));return{key:"ID",titulo:"Intereses de la Deuda",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Identificador",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"devengado",label:"Devengado ($)",align:"right",format:b},{key:"pagado",label:"Pagado ($)",align:"right",format:b}],secciones:[{titulo:"INTERESES DE LA DEUDA",filas:n,subtotal:null}],totales:{label:"TOTAL INTERESES",valores:{devengado:g(n,"devengado"),pagado:g(n,"pagado")}}}}function Me(o,a,s,i){const{presupuesto:l=[]}=o,c=l.filter(m=>m.tipo==="ingreso"||m.clasificacion==="ingreso"),n=l.filter(m=>m.tipo==="egreso"||m.clasificacion==="egreso"),e=c.map(m=>({codigo:m.codigo||"",nombre:m.nombre||"",monto:Number(m.recaudado)||Number(m.devengado)||0})),d=n.map(m=>({codigo:m.codigo||"",nombre:m.nombre||"",monto:Number(m.pagado)||Number(m.devengado)||0})),r=g(e,"monto"),f=g(d,"monto");return{key:"FF",titulo:"Flujo de Fondos",subtitulo:C(s,i),orientacion:"portrait",columnas:[{key:"codigo",label:"Rubro",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"monto",label:"Importe ($)",align:"right",format:b}],secciones:[{titulo:"A. INGRESOS PRESUPUESTARIOS",filas:e,subtotal:r},{titulo:"B. EGRESOS PRESUPUESTARIOS",filas:d,subtotal:f}],totales:{label:"C. FLUJO NETO DE FONDOS (A - B)",valor:r-f}}}function Le(o,a,s,i){const{presupuesto:l=[]}=o,n=l.filter(e=>e.tipo==="programa"||e.programa).map(e=>({codigo:e.codigo||e.programa||"",nombre:e.nombre||e.concepto||"",aprobado:Number(e.aprobado)||0,modificado:Number(e.modificado)||0,devengado:Number(e.devengado)||0,pagado:Number(e.pagado)||0}));return{key:"GCP",titulo:"Gasto por Categoria Programatica",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Programa",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"aprobado",label:"Aprobado ($)",align:"right",format:b},{key:"modificado",label:"Modificado ($)",align:"right",format:b},{key:"devengado",label:"Devengado ($)",align:"right",format:b},{key:"pagado",label:"Pagado ($)",align:"right",format:b}],secciones:[{titulo:"GASTO POR CATEGORIA PROGRAMATICA",filas:n,subtotal:null}],totales:{label:"TOTAL",valores:{aprobado:g(n,"aprobado"),modificado:g(n,"modificado"),devengado:g(n,"devengado"),pagado:g(n,"pagado")}}}}function Ge(o,a,s,i){const{presupuesto:l=[]}=o,n=l.filter(e=>e.tipo==="proyecto"||e.tipo==="inversion").map(e=>({codigo:e.codigo||e.clave||"",nombre:e.nombre||e.proyecto||"",aprobado:Number(e.aprobado)||0,modificado:Number(e.modificado)||0,devengado:Number(e.devengado)||0,pagado:Number(e.pagado)||0,avance:ce(Number(e.devengado)||0,Number(e.modificado)||Number(e.aprobado)||1)+"%"}));return{key:"PPI",titulo:"Programas y Proyectos de Inversion",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Proyecto",align:"left"},{key:"nombre",label:"Descripcion",align:"left"},{key:"aprobado",label:"Aprobado ($)",align:"right",format:b},{key:"modificado",label:"Modificado ($)",align:"right",format:b},{key:"devengado",label:"Devengado ($)",align:"right",format:b},{key:"pagado",label:"Pagado ($)",align:"right",format:b},{key:"avance",label:"% Avance",align:"right"}],secciones:[{titulo:"PROGRAMAS Y PROYECTOS",filas:n,subtotal:null}],totales:{label:"TOTAL",valores:{aprobado:g(n,"aprobado"),modificado:g(n,"modificado"),devengado:g(n,"devengado"),pagado:g(n,"pagado")}}}}function ze(o,a,s,i){const{indicadores:l=[]}=o,c=l.map(n=>({codigo:n.codigo||n.clave||"",nombre:n.nombre||n.indicador||"",meta:Number(n.meta)||0,resultado:Number(n.resultado)||0,avance:ce(Number(n.resultado)||0,Number(n.meta)||1)+"%",semaforo:Number(n.resultado||0)>=Number(n.meta||0)?"Verde":Number(n.resultado||0)>=Number(n.meta||0)*.7?"Amarillo":"Rojo"}));return{key:"IR",titulo:"Indicadores de Resultados (PbR)",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Clave",align:"left"},{key:"nombre",label:"Indicador",align:"left"},{key:"meta",label:"Meta",align:"right"},{key:"resultado",label:"Resultado",align:"right"},{key:"avance",label:"% Avance",align:"right"},{key:"semaforo",label:"Semaforo",align:"center"}],secciones:[{titulo:"INDICADORES DE DESEMPENO",filas:c,subtotal:null}],totales:null}}function He(o,a,s,i){const{presupuesto:l=[]}=o,c=l.filter(p=>p.tipo==="ingreso"),n=l.filter(p=>p.tipo==="egreso"),e=g(c,"recaudado")||g(c,"devengado"),d=g(c,"estimado")||g(c,"aprobado"),r=g(n,"pagado")||g(n,"devengado"),f=g(n,"aprobado")||g(n,"estimado"),m=[{codigo:"I",nombre:"Ingresos Presupuestarios",estimado:d,recaudado:e,diferencia:e-d},{codigo:"II",nombre:"Egresos Presupuestarios",estimado:f,recaudado:r,diferencia:r-f},{codigo:"III",nombre:"Balance Presupuestario (I - II)",estimado:d-f,recaudado:e-r,diferencia:e-r-(d-f)}];return{key:"IPF",titulo:"Indicadores de Postura Fiscal",subtitulo:C(s,i),orientacion:"landscape",columnas:[{key:"codigo",label:"Num.",align:"left"},{key:"nombre",label:"Concepto",align:"left"},{key:"estimado",label:"Estimado / Aprobado ($)",align:"right",format:b},{key:"recaudado",label:"Recaudado / Pagado ($)",align:"right",format:b},{key:"diferencia",label:"Diferencia ($)",align:"right",format:b}],secciones:[{titulo:"INDICADORES DE POSTURA FISCAL",filas:m,subtotal:null}],totales:null}}const Ve={EA:Ce,ESF:Ie,EVHP:Se,ECSF:ke,EFE:je,EAA:Pe,NOTAS:_e,EAI:Oe,EAEPE_CA:Fe,EAEPE_CE:Re,EAEPE_COG:we,EAEPE_CF:Te,END:De,ID:$e,FF:Me,GCP:Le,PPI:Ge,IR:ze,IPF:He};function ne(o,a,s,i,l){const c=Ve[o];if(!c)throw new Error(`Tipo de reporte no reconocido: ${o}`);return c(a,s,i,l)}function Ue(o,a={},s=null){const i=o.internal.pageSize.getWidth(),l=o.internal.pageSize.getHeight(),c=s||l-60,n=20,e=(i-n*2)/3;o.setFontSize(8),o.setTextColor(100,100,100),[{label:"Elaboro",data:a.elaboro},{label:"Reviso",data:a.reviso},{label:"Autorizo",data:a.autorizo}].forEach((r,f)=>{const m=n+f*e+e/2;o.setDrawColor(120,120,120),o.setLineWidth(.3),o.line(m-35,c+15,m+35,c+15),o.setFont(void 0,"bold"),o.text(r.data?.nombre||"________________________",m,c+22,{align:"center"}),o.setFont(void 0,"normal"),o.text(r.data?.cargo||"",m,c+28,{align:"center"}),o.setFontSize(7),o.setFont(void 0,"italic"),o.text(r.label,m,c+34,{align:"center"}),o.setFontSize(8),o.setFont(void 0,"normal")})}function Be(o,a){if(!a)return;let i=o.internal.pageSize.getHeight()-20;if(o.setFontSize(5),o.setTextColor(150,150,150),o.setFont(void 0,"normal"),a.selloDigital){const l=a.selloDigital.length>80?a.selloDigital.substring(0,80)+"...":a.selloDigital;o.text(`Sello Digital: ${l}`,20,i),i+=3}if(a.cadenaOriginal){const l=a.cadenaOriginal.length>80?a.cadenaOriginal.substring(0,80)+"...":a.cadenaOriginal;o.text(`Cadena Original: ${l}`,20,i),i+=3}a.timestamp&&(o.text(`Fecha de firma: ${a.timestamp}`,20,i),i+=3)}function We(o,a={}){o.setProperties({title:a.title||"Reporte CONAC",subject:a.subject||"Estado Financiero",author:a.author||"SCGMEX",creator:"SCGMEX - Sistema de Contabilidad Gubernamental de Mexico",keywords:a.keywords||"CONAC, LGCG, contabilidad gubernamental"})}async function Ye(o){const a=o.output("arraybuffer"),s=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Xe(o,a){if(!a)return;const s=o.getNumberOfPages();o.setPage(s);const i=o.internal.pageSize.getWidth(),l=o.internal.pageSize.getHeight();o.setFontSize(5),o.setTextColor(170,170,170),o.setFont(void 0,"normal"),o.text(`Hash de integridad: ${a}`,i/2,l-4,{align:"center"})}const Z=[157,36,73],Je=[245,245,248],ie=[233,233,237],se=[255,255,255],$=[43,44,64],qe=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Ke="Bajo protesta de decir verdad declaramos que los Estados Financieros y sus Notas son razonablemente correctos y responsabilidad del emisor.";function z(o){return o==null||isNaN(o)?"":new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(o)}function Ze(o,a){const s=o?.numero||12,i=a?.anio||a?.year||new Date().getFullYear();return`DEL 1 DE ENERO AL 31 DE ${(qe[s-1]||"Diciembre").toUpperCase()} DE ${i}`}async function le(o,a={}){const{ente:s,ejercicio:i,periodo:l,nivelGobierno:c}=a,n=o.orientacion==="landscape"?"landscape":"portrait",e=new xe(n,"mm","letter"),d=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight(),f=14,m=s?.nombre||s?.razon_social||"Ente Publico";We(e,{title:`${o.titulo} - ${m}`,subject:o.titulo,author:m,keywords:`CONAC, LGCG, contabilidad gubernamental, ${o.titulo}`});let p=f;e.setFontSize(9),e.setFont(void 0,"bold"),e.setTextColor(...$);const h=s?.nombre||s?.razon_social||"Ente Publico";e.text(`ENTE PUBLICO: ${h.toUpperCase()}`,d/2,p,{align:"center"}),p+=5,c&&(e.setFontSize(7),e.setFont(void 0,"normal"),e.text(`Nivel de Gobierno: ${c}`,d/2,p,{align:"center"}),p+=4),e.setFontSize(12),e.setFont(void 0,"bold"),e.setTextColor(...Z),e.text(o.titulo.toUpperCase(),d/2,p,{align:"center"}),p+=5,e.setFontSize(8),e.setFont(void 0,"normal"),e.setTextColor(...$);const R=o.subtitulo||Ze(l,i);e.text(R,d/2,p,{align:"center"}),p+=3,e.setFontSize(7),e.setFont(void 0,"italic"),e.text("(Cifras en Pesos y Centavos)",d/2,p,{align:"center"}),p+=5;const I=o.columnas||[],Y=[I.map(E=>E.label)],S=[],H=[],w=[];let V=-1;for(const E of o.secciones||[]){H.push(S.length);const v=I.map((u,y)=>y===0?E.titulo:"");S.push(v);for(const u of E.filas||[]){const y=I.map(N=>{const x=u[N.key];return N.format&&typeof x=="number"||typeof x=="number"&&N.align==="right"?z(x):x??""});S.push(y)}if(E.subtotal!=null){w.push(S.length);const u=I.map((y,N)=>N===I.length-1?z(E.subtotal):N===0?"":N===1?`TOTAL ${E.titulo}`:"");S.push(u)}}if(o.totales)if(V=S.length,o.totales.valores){const E=I.map((v,u)=>{if(u===0)return"";if(u===1)return o.totales.label;const y=o.totales.valores[v.key];return y!=null?z(y):""});S.push(E)}else{const E=I.map((v,u)=>u===I.length-1?z(o.totales.valor):u===0?"":u===1?o.totales.label:"");S.push(E)}const D=d-f*2,X=I.length,F={};I.forEach((E,v)=>{F[v]={halign:E.align||"left",fontStyle:"normal"},v===0&&(F[v].cellWidth=Math.min(D*.1,25)),v===1&&(F[v].cellWidth=X<=3?D*.55:D*.25)}),ye(e,{head:Y,body:S,startY:p,margin:{left:f,right:f},styles:{fontSize:7,cellPadding:2,textColor:$,lineWidth:.1,lineColor:ie},headStyles:{fillColor:Z,textColor:se,fontStyle:"bold",fontSize:7,halign:"center"},columnStyles:F,alternateRowStyles:{fillColor:[252,252,254]},didParseCell:E=>{const v=E.row.index;E.section==="body"&&(H.includes(v)&&(E.cell.styles.fontStyle="bold",E.cell.styles.fillColor=Je,E.cell.styles.textColor=$,E.cell.styles.fontSize=7.5),w.includes(v)&&(E.cell.styles.fontStyle="bold",E.cell.styles.fillColor=ie,E.cell.styles.textColor=$),v===V&&(E.cell.styles.fontStyle="bold",E.cell.styles.fillColor=Z,E.cell.styles.textColor=se,E.cell.styles.fontSize=8))},didDrawPage:E=>{const v=e.getNumberOfPages(),u=E.pageNumber;e.setFontSize(7),e.setFont(void 0,"normal"),e.setTextColor(...$),e.text(`Pagina ${u} de ${v}`,d/2,r-8,{align:"center"}),e.text("SCGMEX - Sistema de Contabilidad Gubernamental",f,r-8),e.text(`Generado: ${new Date().toLocaleDateString("es-MX")}`,d-f,r-8,{align:"right"})}});let P=(e.lastAutoTable?.finalY||r-30)+8;if(P<r-25){e.setFontSize(6.5),e.setFont(void 0,"italic"),e.setTextColor(120,120,120);const E=e.splitTextToSize(Ke,D);e.text(E,f,P),P+=E.length*3.5+2}if(o.notas&&P<r-20){e.setFontSize(6.5),e.setFont(void 0,"normal"),e.setTextColor(100,100,100);const E=e.splitTextToSize(`Nota: ${o.notas}`,D);e.text(E,f,P),P+=E.length*3.5+2}(a.elaboro||a.reviso||a.autorizo)&&(P+45>r-25&&(e.addPage(),P=f+10),Ue(e,{elaboro:a.elaboro,reviso:a.reviso,autorizo:a.autorizo},P+5)),(a.selloDigital||a.cadenaOriginal||a.timestamp)&&Be(e,{selloDigital:a.selloDigital,cadenaOriginal:a.cadenaOriginal,timestamp:a.timestamp});try{const E=await Ye(e);Xe(e,E)}catch{}const J=o.titulo.replace(/[^a-zA-Z0-9_\- ]/g,"").replace(/\s+/g,"_"),q=i?.anio||i?.year||new Date().getFullYear();e.save(`${J}_${q}.pdf`)}const T=o=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(o||0),Qe=o=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",notation:"compact",maximumFractionDigits:1}).format(o||0),eo=[{key:"contable",label:"Contables",color:"primary"},{key:"presupuestal",label:"Presupuestales",color:"info"},{key:"programatico",label:"Programaticos",color:"warning"}],re={federal:{label:"Federal",variant:"danger"},estatal:{label:"Estatal",variant:"info"},municipal:{label:"Municipal",variant:"success"}};function oo({className:o="w-4 h-4"}){return t.jsx("svg",{className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function ao({className:o="w-4 h-4"}){return t.jsx("svg",{className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}function to({className:o="w-5 h-5"}){return t.jsx("svg",{className:o,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function no(){return t.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-guinda",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}function io({reporte:o}){if(!o)return null;const{titulo:a,columnas:s=[],secciones:i=[],totales:l,notas:c}=o;return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-text-primary",children:a}),o.subtitulo&&t.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:o.subtitulo}),t.jsx("p",{className:"text-[11px] text-text-muted italic mt-0.5",children:"(Cifras en Pesos y Centavos)"})]}),t.jsx("div",{className:"bg-white rounded-lg card-shadow overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-guinda",children:s.map(n=>t.jsx("th",{className:`text-xs font-semibold text-white uppercase tracking-wider px-5 py-3 ${n.align==="right"?"text-right":n.align==="center"?"text-center":"text-left"}`,children:n.label},n.key))})}),t.jsx("tbody",{children:i.map((n,e)=>t.jsx(so,{seccion:n,columnas:s},e))}),l&&t.jsx("tfoot",{children:t.jsx("tr",{className:"bg-guinda text-white font-bold",children:s.map((n,e)=>{let d="";return e===0?d="":e===1?d=l.label||"TOTAL":l.valores&&l.valores[n.key]!=null?d=T(l.valores[n.key]):e===s.length-1&&l.valor!=null&&(d=T(l.valor)),t.jsx("td",{className:`px-5 py-3.5 text-sm ${n.align==="right"?"text-right font-mono":""}`,children:d},n.key)})})})]})})}),c&&t.jsxs("div",{className:"bg-[#f9fafb] rounded-lg p-4 text-xs text-text-secondary mt-3",children:[t.jsx("span",{className:"font-semibold",children:"Nota: "}),c]})]})}function so({seccion:o,columnas:a}){return t.jsxs(t.Fragment,{children:[t.jsx("tr",{className:"bg-[#f5f5f8]",children:t.jsx("td",{colSpan:a.length,className:"px-5 py-2.5 text-xs font-bold text-text-primary uppercase tracking-wider",children:o.titulo})}),(o.filas||[]).length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:a.length,className:"px-5 py-4 text-center text-xs text-text-muted",children:"Sin datos para esta seccion"})}):o.filas.map((s,i)=>t.jsx("tr",{className:"border-b border-[#f0f0f0] hover:bg-[#f9fafb]",children:a.map(l=>{const c=s[l.key],n=l.format||typeof c=="number"&&l.align==="right";return t.jsx("td",{className:`px-5 py-2.5 text-sm ${l.align==="right"?"text-right font-mono":l.align==="center"?"text-center":""} ${l.key==="codigo"?"font-mono text-text-secondary":""}`,children:n&&typeof c=="number"?T(c):c??""},l.key)})},i)),o.subtotal!=null&&t.jsx("tr",{className:"bg-[#e9e9ed] font-bold border-t border-guinda/20",children:a.map((s,i)=>{let l="";return i===1&&(l=`SUBTOTAL ${o.titulo}`),i===a.length-1&&(l=T(o.subtotal)),t.jsx("td",{className:`px-5 py-2.5 text-sm ${s.align==="right"?"text-right font-mono":""}`,children:l},s.key)})})]})}function lo({situacion:o,actividades:a}){const s=o?.activo?.total||0,i=o?.pasivo?.total||0,l=o?.hacienda?.total||0,c=a?.ingresos?.total||0,n=a?.gastos?.total||0,e=c-n,d=[{label:"Total Activos",value:s,color:"bg-blue-500"},{label:"Total Pasivos",value:i,color:"bg-orange-500"},{label:"Hacienda Publica",value:l,color:"bg-guinda"},{label:"Ingresos",value:c,color:"bg-green-500"},{label:"Egresos",value:n,color:"bg-red-500"}],r=Math.max(c,n,1),f=Math.round(c/r*100),m=Math.round(n/r*100);return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:d.map(p=>t.jsxs("div",{className:"bg-white rounded-lg card-shadow p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${p.color}`}),t.jsx("span",{className:"text-xs text-text-muted",children:p.label})]}),t.jsx("p",{className:"text-lg font-bold text-text-primary font-mono",children:Qe(p.value)})]},p.label))}),t.jsxs("div",{className:"bg-white rounded-lg card-shadow p-5",children:[t.jsxs("h3",{className:"text-sm font-semibold text-text-primary mb-4 flex items-center gap-2",children:[t.jsx(to,{}),"Resumen: Ingresos vs Egresos"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[t.jsx("span",{children:"Ingresos"}),t.jsx("span",{className:"font-mono",children:T(c)})]}),t.jsx("div",{className:"h-6 bg-[#f0f0f0] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-500",style:{width:`${f}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mb-1",children:[t.jsx("span",{children:"Egresos"}),t.jsx("span",{className:"font-mono",children:T(n)})]}),t.jsx("div",{className:"h-6 bg-[#f0f0f0] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all duration-500",style:{width:`${m}%`}})})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-[#f0f0f0]",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-text-primary",children:"Resultado del Ejercicio (Ahorro / Desahorro)"}),t.jsx("span",{className:`text-lg font-bold font-mono ${e>=0?"text-green-600":"text-red-600"}`,children:T(e)})]})})]})]})}function xo(){const{entePublico:o,ejercicioFiscal:a,periodoContable:s}=ue(),[i,l]=j.useState(""),[c,n]=j.useState("contable"),[e,d]=j.useState(""),r=o?.nivel_gobierno||"federal",f=re[r]||re.federal,{data:m=[]}=me("periodo_contable",{filter:{ejercicio_id:a?.id},order:{column:"numero",ascending:!0}}),p=j.useMemo(()=>m.map(u=>({value:u.id,label:u.nombre||`Periodo ${u.numero}`})),[m]),h=j.useMemo(()=>m.find(u=>u.id===i)||null,[m,i]),R=j.useMemo(()=>Ae(r),[r]),I=j.useMemo(()=>{const u={contable:[],presupuestal:[],programatico:[]};for(const y of R){const N=Q[y];N&&u[N.categoria]?.push(N)}return u},[R]),Y=j.useMemo(()=>(I[c]||[]).map(u=>({value:u.key,label:`${u.orden}. ${u.nombre}`})),[I,c]),{data:S,isLoading:H}=ge(i),{data:w,isLoading:V}=be(i),{data:D,isLoading:X}=fe(i),{data:F,isLoading:ee}=pe(i),P=H||V||X||ee,L=j.useMemo(()=>{const u=[],y=[];if(S)for(const N of["activo","pasivo","hacienda"]){const x=S[N]?.cuentas||[];for(const A of x)y.push(A),u.push({cuenta_id:A.id,saldo_final:A.saldo_final||0})}if(w)for(const N of["ingresos","gastos"]){const x=w[N]?.cuentas||[];for(const A of x)y.find(G=>G.id===A.id)||(y.push(A),u.push({cuenta_id:A.id,saldo_final:A.saldo_final||A.monto||0}))}if(F){const N=Array.isArray(F)?F:F?.cuentas||[];for(const x of N){const A=u.find(G=>G.cuenta_id===x.id);A?(A.saldo_inicial=x.saldo_inicial,A.total_debe=x.total_debe||x.debe,A.total_haber=x.total_haber||x.haber):(y.push(x),u.push({cuenta_id:x.id,saldo_inicial:x.saldo_inicial||0,total_debe:x.total_debe||x.debe||0,total_haber:x.total_haber||x.haber||0,saldo_final:x.saldo_final||0}))}}return{saldos:u,cuentas:y,presupuesto:[],indicadores:[],movimientos:[]}},[S,w,F]),_=j.useMemo(()=>{if(!e||!i)return null;try{return ne(e,L,o,h,a)}catch(u){return console.warn("Error generando reporte:",u),null}},[e,i,L,o,h,a]),J=j.useCallback(async()=>{_&&await le(_,{ente:o,ejercicio:a,periodo:h,nivelGobierno:r})},[_,o,a,h,r]),q=j.useCallback(()=>{if(!_)return;const{columnas:u,secciones:y,titulo:N}=_,x=[];for(const U of y||[])for(const de of U.filas||[])x.push(de);const A=u.map(U=>({key:U.key,label:U.label})),G=N.replace(/[^a-zA-Z0-9_\- ]/g,"").replace(/\s+/g,"_").substring(0,50);he(x,A,G)},[_]),E=j.useCallback(async()=>{if(!i)return;const u=R.filter(y=>Q[y]?.categoria==="contable"&&y!=="NOTAS");for(const y of u)try{const N=ne(y,L,o,h,a);await le(N,{ente:o,ejercicio:a,periodo:h,nivelGobierno:r})}catch(N){console.warn(`No se pudo generar ${y}:`,N)}},[i,R,L,o,h,a,r]),v=u=>{n(u),d("")};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6 flex items-start justify-between",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-xl font-bold text-text-primary flex items-center gap-3",children:["Estados Financieros",t.jsx(Ee,{variant:f.variant,children:f.label})]}),t.jsxs("p",{className:"text-sm text-text-muted mt-1",children:["Art. 46-50 LGCG â€” Reportes CONAC del ente publico (",R.length," reportes aplicables)"]})]})}),t.jsx("div",{className:"bg-white rounded-lg card-shadow p-4 mb-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[t.jsx(oe,{label:"Periodo Contable",placeholder:"Seleccionar periodo...",options:p,value:i,onChange:u=>{l(u.target.value),d("")}}),t.jsx(oe,{label:"Reporte",placeholder:"Seleccionar reporte...",options:Y,value:e,onChange:u=>d(u.target.value),disabled:!i}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(K,{variant:"primary",size:"sm",onClick:J,disabled:!_,children:[t.jsx(ao,{className:"w-4 h-4 mr-1"}),"PDF (CONAC)"]}),t.jsxs(K,{variant:"ghost",size:"sm",onClick:q,disabled:!_,children:[t.jsx(oo,{className:"w-4 h-4 mr-1"}),"Excel"]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(K,{variant:"outline-primary",size:"sm",onClick:E,disabled:!i||P,children:"Exportar todos (PDF)"})})]})}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:eo.map(u=>{const y=(I[u.key]||[]).length;return t.jsxs("button",{onClick:()=>v(u.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer flex items-center gap-2 ${c===u.key?"bg-guinda text-white shadow-md":"bg-white card-shadow text-text-secondary hover:text-text-primary"}`,children:[u.label,t.jsx("span",{className:`text-[10px] font-bold rounded-full px-1.5 py-0.5 ${c===u.key?"bg-white/20 text-white":"bg-[#f0f0f0] text-text-muted"}`,children:y})]},u.key)})}),!e&&i&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:(I[c]||[]).map(u=>t.jsx("button",{onClick:()=>d(u.key),className:"bg-white rounded-lg card-shadow p-4 text-left hover:ring-2 hover:ring-guinda/30 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-guinda/10 flex items-center justify-center text-guinda font-bold text-xs shrink-0",children:u.orden}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-text-primary group-hover:text-guinda transition-colors leading-tight",children:u.nombre}),t.jsx("p",{className:"text-[11px] text-text-muted mt-1",children:u.key})]})]})},u.key))}),i?P?t.jsx("div",{className:"bg-white rounded-lg card-shadow p-5",children:t.jsxs("div",{className:"flex items-center justify-center py-16 text-text-muted text-sm",children:[t.jsx(no,{}),"Cargando datos financieros..."]})}):e&&_?t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>d(""),className:"text-sm text-guinda hover:text-guinda-dark font-medium mb-3 flex items-center gap-1 cursor-pointer",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver al listado"]}),t.jsx(io,{reporte:_})]}):e&&!_?t.jsx("div",{className:"bg-white rounded-lg card-shadow p-5",children:t.jsxs("div",{className:"text-center py-16 text-text-muted text-sm",children:["No hay datos disponibles para generar este reporte en el periodo seleccionado.",t.jsx("br",{}),t.jsx("span",{className:"text-xs mt-1 block",children:"Verifique que existan movimientos contables registrados."})]})}):t.jsx(lo,{situacion:S,actividades:w}):t.jsx("div",{className:"bg-white rounded-lg card-shadow p-5",children:t.jsxs("div",{className:"text-center py-16 text-text-muted text-sm",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-text-muted/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Seleccione un periodo contable para generar estados financieros"]})})]})}export{xo as default};
