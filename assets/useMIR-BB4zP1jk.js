import{s as o,u as c,o as n}from"./index-FiQ-o0as.js";async function d(e,r){const{data:a,error:i}=await o.from("programa_presupuestario").select("*, clasificador:clasificador_presupuestal!clasificador_programatico_id(codigo, nombre)").eq("ente_id",e).eq("ejercicio_id",r).order("clave");if(i)throw i;return a}async function s(e){const{data:r,error:a}=await o.from("indicador_mir").select("*").eq("programa_id",e).order("nivel").order("created_at");if(a)throw a;return r}async function u(e){const{data:r,error:a}=await o.from("programa_presupuestario").select("*").eq("id",e).single();if(a)throw a;const{data:i,error:t}=await o.from("indicador_mir").select("*, avances:avance_indicador(*, periodo:periodo_contable(nombre, numero))").eq("programa_id",e).order("nivel").order("created_at");if(t)throw t;return{...r,indicadores:i}}async function m(e,r){const{data:a,error:i}=await o.from("programa_presupuestario").select("*, indicadores:indicador_mir(id, nivel, nombre_indicador, meta_programada, meta_alcanzada)").eq("ente_id",e).eq("ejercicio_id",r).order("clave");if(i)throw i;return a}function f(){const{entePublico:e,ejercicioFiscal:r}=c();return n({queryKey:["programas",e?.id,r?.id],queryFn:()=>d(e.id,r.id),enabled:!!e?.id&&!!r?.id})}function p(e){return n({queryKey:["indicadores_mir",e],queryFn:()=>s(e),enabled:!!e})}function _(e){return n({queryKey:["mir_completa",e],queryFn:()=>u(e),enabled:!!e})}function y(){const{entePublico:e,ejercicioFiscal:r}=c();return n({queryKey:["resumen_programatico",e?.id,r?.id],queryFn:()=>m(e.id,r.id),enabled:!!e?.id&&!!r?.id})}export{_ as a,p as b,y as c,f as u};
